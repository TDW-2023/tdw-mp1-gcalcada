"use strict";(()=>{var e={};e.id=500,e.ids=[500],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},2486:(e,a,r)=>{r.r(a),r.d(a,{config:()=>l,default:()=>n,routeModule:()=>u});var t={};r.r(t),r.d(t,{default:()=>handler});var s=r(1802),d=r(7153),i=r(6249);async function handler(e,a){let r=e.headers["x-vercel-reval-key"];if(!r)return a.status(401).json({message:"x-vercel-reval-key header not defined"});if(r!==process.env.CONTENTFUL_REVALIDATE_SECRET)return a.status(401).json({message:"Invalid token"});try{let r=e.body.fields.slug["en-US"];return await a.revalidate(`/posts/${r}`),await a.revalidate("/"),a.json({revalidated:!0})}catch(e){return a.status(500).send("Error revalidating")}}let n=(0,i.l)(t,"default"),l=(0,i.l)(t,"config"),u=new s.PagesAPIRouteModule({definition:{kind:d.x.PAGES_API,page:"/api/revalidate",pathname:"/api/revalidate",bundlePath:"",filename:""},userland:t})}};var a=require("../../webpack-api-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),r=a.X(0,[222],()=>__webpack_exec__(2486));module.exports=r})();